@tailwind base;
@tailwind components;
@tailwind utilities;

/* Logo Background Animations */
@keyframes logo-fade {
  0% {
    opacity: 0;
    transform: scale(0.5) rotate(0deg);
  }

  50% {
    opacity: 0.5;
    transform: scale(1) rotate(180deg);
  }

  100% {
    opacity: 0;
    transform: scale(0.5) rotate(360deg);
  }
}

.animate-logo-fade {
  animation: logo-fade linear infinite;
}

/* Table Row Entry Animation */
@keyframes table-row-entry {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-table-row {
  animation: table-row-entry 0.2s ease-in forwards;
}

/* Shimmer Animation for Golden Outline - border color only */
@keyframes shimmer {
  0% { border-color: #fbbf24; }
  50% { border-color: #f59e0b; }
  100% { border-color: #fbbf24; }
}

/* Wavy left-to-right shimmer using moving gradient masked to border */
@keyframes shimmer-wave {
  0% { background-position: 0% 0; }
  100% { background-position: 200% 0; }
}

.shimmer-border {
  position: relative;
}

.shimmer-border::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 2px; /* outline thickness */
  background: linear-gradient(90deg,
    #f97316 0%,
    #fbbf24 15%,
    #f59e0b 35%,
    #fbbf24 55%,
    #f97316 100%
  );
  background-size: 200% 100%;
  animation: shimmer-wave 2s linear infinite reverse;
  pointer-events: none;
  /* Mask to show only the border area */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
}

@layer base {
  html {
    font-family: var(--font-inter), 'Inter', 'system-ui', 'sans-serif';
    margin: 0;
    padding: 0;
    width: 100%;
    overflow-x: hidden;
    /* Ensure proper mobile viewport handling */
    height: 100%;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    /* Prevent zoom on input focus on iOS */
    -webkit-tap-highlight-color: transparent;
    background-color: #000000;

  }

  body {
    font-family: var(--font-inter), 'Inter', 'system-ui', 'sans-serif';
    background: #000000;
    color: var(--foreground);
    overflow-y: auto;
    margin: 0;
    padding: 0;
    width: 100%;
    overflow-x: hidden;
    /* Ensure proper mobile viewport handling */
    min-height: 100vh;
    min-height: -webkit-fill-available;
    min-height: -moz-available;
    min-height: stretch;
    /* Prevent content cutoff on mobile */
    position: relative;

    /* Privy Widget Styling */
    --privy-border-radius-sm: 0.375rem;
    --privy-border-radius-md: 0.5rem;
    --privy-border-radius-lg: 0.75rem;
    --privy-border-radius-full: 9999px;

    /* Background colors */
    --privy-color-background: #000000;
    --privy-color-background-2: #151e2886;
    --privy-color-background-3: #19242e;

    /* Foreground colors */
    --privy-color-foreground: #ededed;
    --privy-color-foreground-2: #cbd5e1;
    --privy-color-foreground-3: #94a3b8;
    --privy-color-foreground-4: #151e28b2;

    /* Accent colors */
    --privy-color-foreground-accent: #19242e;
    --privy-color-accent: #94a3b8;
    --privy-color-accent-light: #000000;
    --privy-color-accent-lightest: #FDE047;
    --privy-color-accent-dark: #FDE047;
    --privy-color-accent-darkest: #FDE047;

    /* Status colors */
    --privy-color-success: #FDE047;
    --privy-color-error: #ff5050;
    --privy-color-error-light: #f23674;

  }

  /* Safe area support for mobile devices */
  :root {
    --safe-area-inset-top: env(safe-area-inset-top, 0px);
    --safe-area-inset-right: env(safe-area-inset-right, 0px);
    --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-inset-left: env(safe-area-inset-left, 0px);
  }

  /* Ensure all elements inherit the font, including portal content */
  * {
    font-family: inherit;
  }

  /* Mobile-specific fixes */
  @supports (-webkit-touch-callout: none) {

    /* iOS Safari specific fixes */
    body {
      min-height: -webkit-fill-available;
    }
  }
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Mobile viewport utilities */
  .mobile-safe-top {
    padding-top: var(--safe-area-inset-top);
  }

  .mobile-safe-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .mobile-safe-left {
    padding-left: var(--safe-area-inset-left);
  }

  .mobile-safe-right {
    padding-right: var(--safe-area-inset-right);
  }

  /* Ensure content is not cut off on mobile */
  .mobile-content-safe {
    min-height: calc(100vh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));
    padding-bottom: calc(1rem + var(--safe-area-inset-bottom));
  }
}

:root {
  --background: #000000;
  --foreground: #ededed;
  --shadow: 0px 4px 10px 0px hsl(0 0% 0% / 0.10), 0px 1px 2px -1px hsl(0 0% 0% / 0.10);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --shadow: var(--shadow);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: black;
    --foreground: #ededed;
  }
}

.dashed {
  --border-solid: #252525;
  background-image:
    repeating-linear-gradient(to right, var(--border-solid) 0 5px, transparent 5px 10px),
    repeating-linear-gradient(to bottom, var(--border-solid) 0 5px, transparent 5px 10px),
    repeating-linear-gradient(to right, var(--border-solid) 0 5px, transparent 5px 10px),
    repeating-linear-gradient(to bottom, var(--border-solid) 0 5px, transparent 5px 10px);
  background-position: top left, top left, bottom left, top right;
  background-size: 100% 1px, 1px 100%, 100% 1px, 1px 100%;
  background-repeat: no-repeat;
  position: relative;
  z-index: 0;
}

/* Scrollbar */
::-webkit-scrollbar {
  height: 0.35rem;
  width: 0;
}

body::-webkit-scrollbar-track-piece {
  background-color: #252525;
}

::-webkit-scrollbar-track-piece {
  background-color: transparent;
}

::-webkit-scrollbar-thumb {
  border-radius: 9999px;
  background-color: #646464;
}

::-webkit-scrollbar-thumb:hover {
  background-color: #646464;
}

::-webkit-scrollbar-corner {
  background-color: transparent;
}

/* Windows-specific dropdown improvements */
select option {
  background-color: #000000 !important;
  color: #ffffff !important;
  padding: 8px 12px;
}

select option:hover {
  background-color: #1f2937 !important;
}

/* Ensure dropdown text is readable on all platforms */
select {
  color: #ffffff !important;
}

select:focus {
  color: #ffffff !important;
}